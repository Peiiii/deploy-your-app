# -----------------------------------------------------------------------------
# Backend server configuration (server/.env)
# -----------------------------------------------------------------------------

# Port for the Node/Express backend server.
SERVER_PORT=4173

# -----------------------------------------------------------------------------
# Platform AI (DashScope) â€“ used by the backend to refactor user code safely
# -----------------------------------------------------------------------------

# Which platform AI provider to use. Currently only "dashscope" is implemented.
# If left empty, the backend falls back to a no-op provider.
PLATFORM_AI_PROVIDER=dashscope

# DashScope model name used for code analysis.
PLATFORM_AI_MODEL=qwen3-max

# Optional override for DashScope compatible endpoint.
# Default (if unset): https://dashscope.aliyuncs.com/compatible-mode/v1
PLATFORM_AI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# DashScope API key used by the platform backend (NOT the user's key).
DASHSCOPE_API_KEY=your_dashscope_api_key_here
# Legacy env name (optional alternative):
# DASHSCOPE_APIKEY=

# -----------------------------------------------------------------------------
# Deployment target & Cloudflare Pages
# -----------------------------------------------------------------------------

# Where to deploy user apps:
#   - local      : copy build output to /apps/<slug>/ and serve from this server
#   - cloudflare : deploy to Cloudflare Pages via API
#   - r2         : upload build artifacts to Cloudflare R2 and serve via Worker
DEPLOY_TARGET=local

# Cloudflare account configuration (required when DEPLOY_TARGET=cloudflare).
CLOUDFLARE_ACCOUNT_ID=
CLOUDFLARE_API_TOKEN=

# Prefix for auto-generated Cloudflare Pages project names:
#   project name = <prefix>-<slug>
CLOUDFLARE_PAGES_PROJECT_PREFIX=deploy-your-app

# -----------------------------------------------------------------------------
# Cloudflare R2 (used when DEPLOY_TARGET=r2)
# -----------------------------------------------------------------------------

# Cloudflare account id used for R2 (defaults to CLOUDFLARE_ACCOUNT_ID if unset)
R2_ACCOUNT_ID=
# S3-compatible R2 access keys
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
# R2 bucket name that stores built app assets (e.g. gemigo-assets)
R2_BUCKET_NAME=gemigo-apps

# Root domain where apps are exposed via the Cloudflare Worker gateway
# For example: gemigo.app
APPS_ROOT_DOMAIN=gemigo.app

# -----------------------------------------------------------------------------
# Storage paths (optional; default to repo-root dirs if unset)
# -----------------------------------------------------------------------------


# Where backend JSON data is stored.
DATA_DIR=data

# Optional override for the projects JSON file path.
# Defaults to "$DATA_DIR/projects.json" if unset.
# PROJECTS_FILE=
