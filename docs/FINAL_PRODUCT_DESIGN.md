# GemiGo 最终产品形态设计

> 基于 25+ 场景分析和 7 种形态模式，综合权衡后的最终设计

---

## 核心洞察

### 从场景分析中学到的

1. **不同场景需要不同形态** - 没有一种形态能满足所有需求
2. **最佳体验往往不是"打开 App"** - 而是推送、嵌入、自动化
3. **AI 是跨形态的连接者** - 自然语言可以统一各种交互
4. **链接分享是杀手级能力** - 零安装、即开即用

### 我们的独特优势

| 能力 | 传统 App | GemiGo 可做到 |
|------|---------|--------------|
| 分发 | 应用商店审核 | **一键发布，链接分享** |
| 安装 | 需要下载 | **打开链接即用** |
| 创作 | 需要专业开发 | **Vibe Coder 可创作** |
| AI | 各自集成 | **平台统一 AI 能力** |
| 本地 | 只能云端 | **桌面端本地处理** |

---

## 应用类型与多平台发布

### 三种应用类型

```
┌─────────────────────────────────────────────────────────────┐
│                      应用类型                                │
├─────────────────┬─────────────────┬─────────────────────────┤
│   📱 界面应用    │   🔄 混合应用    │   ⚙️ 服务应用           │
│                 │                 │                         │
│ • 有主界面      │ • 有配置界面    │ • 无主界面              │
│ • 用户主动打开  │ • 后台服务运行  │ • 纯后台运行            │
│ • 如：AA分账    │ • 如：喝水提醒  │ • 如：文件夹自动压缩    │
└─────────────────┴─────────────────┴─────────────────────────┘
```

| 类型 | 界面 | 后台能力 | 示例 |
|------|------|---------|------|
| 界面应用 | ✅ 主界面 | ❌ 无 | AA分账、GPA计算器 |
| 混合应用 | ✅ 配置界面 | ✅ 有 | 喝水提醒、背单词 |
| 服务应用 | ❌ 仅设置 | ✅ 有 | 文件夹监控、自动备份 |

### 多平台发布

一个应用可以同时支持多个平台，开发者在发布时选择：

```
┌────────────────────────────────────────────────────────────┐
│  📱 支持的平台（可多选）                                    │
├────────────────────────────────────────────────────────────┤
│                                                            │
│  ☑ 🌐 Web 平台                                             │
│    └ 独立页面运行，支持链接分享                            │
│                                                            │
│  ☑ 💻 桌面端                                               │
│    └ 在桌面应用内嵌运行，可使用本地文件                    │
│                                                            │
│  ☐ 🔌 浏览器扩展                                           │
│    └ 在扩展侧边栏/弹窗运行（需适配 320px 宽度）            │
│                                                            │
│  ☐ 🔔 推送卡片                                             │
│    └ 作为系统通知卡片展示（仅桌面端）                      │
│                                                            │
│  ☐ ⚙️ 后台服务                                             │
│    └ 无界面后台运行（仅桌面端）                            │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

### 应用清单示例

```json
{
  "name": "喝水提醒",
  "type": "hybrid",
  "platforms": ["web", "desktop"],
  "background": {
    "enabled": true,
    "capabilities": ["scheduler", "notification"]
  },
  "ui": {
    "main": "index.html",
    "settings": "settings.html"
  }
}
```

---

## 桌面端后台能力 API

### 设计原则

> **声明式 API**：应用不直接运行后台代码，而是声明需要的能力，由平台执行

这样做的好处：
1. **安全** - 应用无法执行任意代码
2. **可控** - 用户可以查看/管理所有后台任务
3. **简单** - 开发者只需调用 API，不用懂后台

### 核心 API

```javascript
// 1. 定时任务
await gemigo.scheduler.register({
  id: 'water-reminder',
  interval: '2h',              // 每2小时
  startTime: '08:00',          // 开始时间
  endTime: '22:00',            // 结束时间
  notification: {
    title: '💧 该喝水了',
    body: '距离上次已过 2 小时',
    actions: [
      { label: '喝了 +1', callback: 'recordDrink' },
      { label: '稍后提醒', callback: 'snooze' }
    ]
  }
});

// 2. 文件监控
await gemigo.fileWatch.register({
  id: 'compress-downloads',
  path: '~/Downloads',
  pattern: '*.png',
  action: {
    type: 'run_tool',
    tool: 'image_compress',
    output: '~/Compressed'
  }
});

// 3. 系统通知
await gemigo.notify({
  title: '任务完成',
  body: '已压缩 12 个文件，节省 65% 空间',
  actions: [{ label: '打开文件夹', callback: 'openFolder' }]
});

// 4. 本地存储
await gemigo.storage.set('todayDrinks', 5);
const drinks = await gemigo.storage.get('todayDrinks');

// 5. 通知回调
gemigo.onNotificationAction('recordDrink', async () => {
  const count = await gemigo.storage.get('todayDrinks') || 0;
  await gemigo.storage.set('todayDrinks', count + 1);
});
```

### 平台执行架构

```
┌─────────────────────────────────────────────────────────────┐
│                    应用层（前端 HTML/JS）                    │
│  开发者写的界面代码，调用 GemiGo API                        │
└──────────────────────────┬──────────────────────────────────┘
                           ↓ 调用 API
┌─────────────────────────────────────────────────────────────┐
│                    GemiGo API 层                            │
│  gemigo.scheduler / gemigo.fileWatch / gemigo.notify        │
│  验证权限、注册任务                                          │
└──────────────────────────┬──────────────────────────────────┘
                           ↓ 注册
┌─────────────────────────────────────────────────────────────┐
│              平台后台服务（Electron 主进程）                  │
│  • 定时任务执行器                                            │
│  • 文件系统监控                                              │
│  • 系统通知管理                                              │
│  • 任务调度器                                                │
└─────────────────────────────────────────────────────────────┘
```

### 用户管理界面

用户可以在设置中查看和管理所有后台任务：

```
┌────────────────────────────────────────────────────────────┐
│  ⚙️ 后台任务管理                                           │
├────────────────────────────────────────────────────────────┤
│                                                            │
│  🔔 定时任务                                               │
│  ├── 💧 喝水提醒（每2小时）         [暂停] [删除]          │
│  └── 📖 背单词提醒（8:00/12:30/21:00） [暂停] [删除]       │
│                                                            │
│  📁 文件监控                                               │
│  └── 🖼️ 下载图片自动压缩           [暂停] [删除]          │
│                                                            │
│  📊 运行统计                                               │
│  • 今日触发：12 次                                         │
│  • 本周节省存储：156 MB                                    │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

---

## 最终产品形态

### 一句话定位

> **GemiGo = AI 驱动的轻应用平台**
> 
> 让每个人都能发现、使用、创作解决生活问题的轻应用

### 产品矩阵

```
┌─────────────────────────────────────────────────────────────┐
│                        GemiGo 生态                          │
├───────────────────┬───────────────────┬─────────────────────┤
│   Web 平台         │   桌面端           │   浏览器扩展        │
│   (发现 & 运行)    │   (本地 & AI)      │   (嵌入 & 增强)     │
├───────────────────┼───────────────────┼─────────────────────┤
│ • 应用广场         │ • AI 助手          │ • 选中翻译          │
│ • 链接直达         │ • 本地文件处理     │ • 划词解释          │
│ • 创作者发布       │ • 推送提醒         │ • 页面工具          │
│ • 社区互动         │ • 自动化规则       │ • 快捷命令          │
└───────────────────┴───────────────────┴─────────────────────┘
                              ↑
                    ┌─────────────────────┐
                    │   统一 AI 能力层    │
                    │  (理解、生成、对话)  │
                    └─────────────────────┘
                              ↑
                    ┌─────────────────────┐
                    │   轻应用运行时      │
                    │  (沙箱、权限、API)   │
                    └─────────────────────┘
```

---

## 形态一：Web 平台

### 核心定位
> 发现轻应用的入口 + 轻应用运行环境 + 创作者发布平台

### 关键设计

#### 1. 首页 - 发现流

```
┌────────────────────────────────────────────────────────────┐
│  GemiGo     [🔍 找点有用的...]     [发布] [我的]           │
├────────────────────────────────────────────────────────────┤
│                                                            │
│  ✨ 为你推荐                                               │
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐              │
│  │ 💰     │ │ 📖     │ │ 🍅     │ │ 💧     │              │
│  │ 3秒记账 │ │ 每日单词│ │ 番茄钟  │ │ 喝水提醒│              │
│  │ @理财达人│ │ @英语通 │ │ @专注力 │ │ @健康家 │              │
│  │ ❤️ 5.6k │ │ ❤️ 3.2k │ │ ❤️ 2.8k │ │ ❤️ 1.5k │              │
│  └────────┘ └────────┘ └────────┘ └────────┘              │
│                                                            │
│  📂 分类                                                   │
│  [学习成长] [理财生活] [健康习惯] [效率工具] [趣味互动]     │
│                                                            │
│  🔥 热门榜                                                 │
│  1. AA 分账神器 - 聚餐后一键算账                           │
│  2. 存钱目标 - 游戏化攒钱                                  │
│  3. 睡眠计算器 - 算出最佳入睡时间                          │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

#### 2. 应用详情 - 即开即用

```
┌────────────────────────────────────────────────────────────┐
│  ← AA 分账神器                          [收藏] [分享链接]   │
├────────────────────────────────────────────────────────────┤
│                                                            │
│  ┌──────────────────────────────────────────────────────┐ │
│  │                                                      │ │
│  │                  应用运行区域                        │ │
│  │               (iframe 沙箱运行)                      │ │
│  │                                                      │ │
│  │    [新建分账]                                        │ │
│  │    活动名称：周五聚餐                                │ │
│  │    ...                                               │ │
│  │                                                      │ │
│  └──────────────────────────────────────────────────────┘ │
│                                                            │
│  💬 评论 (156)                             👤 @社交达人    │
│  ├── "超好用，再也不用手算了"                              │
│  └── "希望能加个微信分享功能"                              │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

#### 3. 链接直达 - 零摩擦分享

```
链接格式：gemigo.app/a/aa-split

打开后直接进入应用，无需注册

任何人都能：
  1. 收到链接
  2. 打开浏览器
  3. 直接使用

这是与传统 App 最大的区别
```

#### 4. 创作者发布

```
┌────────────────────────────────────────────────────────────┐
│  发布新应用                                                │
├────────────────────────────────────────────────────────────┤
│                                                            │
│  📝 基本信息                                               │
│  名称：[AA 分账神器]                                       │
│  一句话：[聚餐后一键算账，支持多人复杂分账]                 │
│                                                            │
│  📁 代码来源                                               │
│  ○ 上传 ZIP  ● GitHub 仓库  ○ 在线编辑器                  │
│  仓库：[https://github.com/...]                            │
│                                                            │
│  🏷️ 分类 & 标签                                           │
│  分类：[理财生活 ▼]                                        │
│  标签：[分账] [聚餐] [AA] [+添加]                          │
│                                                            │
│  🔐 权限声明                                               │
│  ☑ 本地存储（保存用户数据）                                │
│  ☐ 位置信息                                                │
│  ☐ 相机/麦克风                                             │
│                                                            │
│  [预览] [发布]                                              │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

---

## 形态二：桌面端

### 核心定位
> AI 个人助手 + 本地能力中心 + 后台服务

### 关键设计

#### 1. 主界面 - AI 对话 + 快捷入口

```
┌────────────────────────────────────────────────────────────┐
│ GemiGo                                          [—][□][×] │
├────────────────────────────────────────────────────────────┤
│                                                            │
│  👋 早上好，小林                                           │
│                                                            │
│  ┌──────────────────────────────────────────────────────┐ │
│  │ 💬 问我任何事，或拖入文件...                          │ │
│  └──────────────────────────────────────────────────────┘ │
│                                                            │
│  📊 今日概览                                               │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐                  │
│  │ 💰 支出  │ │ 💧 喝水  │ │ 🍅 专注  │                  │
│  │ ¥86     │ │ 5/8 杯  │ │ 3 个番茄 │                  │
│  │ [记一笔] │ │ [喝了]  │ │ [开始]  │                  │
│  └──────────┘ └──────────┘ └──────────┘                  │
│                                                            │
│  ⚡ 快捷工具                                               │
│  [📄 PDF转换] [🌐 翻译] [🖼️ 图片处理] [📝 笔记] [+更多]   │
│                                                            │
│  📁 最近文件                                               │
│  ├── 毕业论文.pdf        [转Word] [AI总结] [更多▼]        │
│  └── 消费记录.xlsx       [分析] [导出] [更多▼]            │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

#### 2. AI 对话 - 统一交互

```
用户可以用自然语言完成任何事：

记账：
  👤 "刚花了 35 吃午饭"
  🤖 "已记录：餐饮 ¥35。今日已花 ¥121，本周预算还剩 ¥379"

查询：
  👤 "这个月我花了多少钱？"
  🤖 "这个月总支出 ¥3,240，最大头是餐饮 ¥1,120 (35%)"

文件处理：
  👤 [拖入 PDF] "把这个转成 Word"
  🤖 "正在转换... 完成！已保存到 桌面/毕业论文.docx"

复杂任务：
  👤 "帮我把 Downloads 里所有 PNG 压缩后放到 Compressed 文件夹"
  🤖 "找到 12 个 PNG 文件，正在压缩... 完成！平均节省 65% 体积"
```

#### 3. 推送系统 - 主动服务

```
系统托盘常驻，智能推送：

┌─────────────────────────────────────┐
│ 💧 该喝水了                         │
│ 距离上次已过 2 小时                  │
│ [喝了 +1] [稍后提醒]                │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 📖 今日单词                         │
│ ubiquitous - 无处不在的             │
│ [认识] [不认识] [跳过]              │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 💰 预算提醒                         │
│ 本周餐饮已花 ¥320，接近预算 ¥350    │
│ [查看详情] [知道了]                 │
└─────────────────────────────────────┘
```

#### 4. 自动化规则

```
┌────────────────────────────────────────────────────────────┐
│  自动化设置                                    [+ 新规则]  │
├────────────────────────────────────────────────────────────┤
│                                                            │
│  ✅ 活跃规则                                               │
│                                                            │
│  ┌──────────────────────────────────────────────────────┐ │
│  │ 📁 下载图片自动压缩                                  │ │
│  │ 当：Downloads 文件夹出现 PNG/JPG                     │ │
│  │ 则：压缩后移动到 Compressed                          │ │
│  │ 已触发 28 次                              [编辑] [×] │ │
│  └──────────────────────────────────────────────────────┘ │
│                                                            │
│  ┌──────────────────────────────────────────────────────┐ │
│  │ 💧 喝水提醒                                          │ │
│  │ 当：距离上次记录 2 小时                              │ │
│  │ 则：推送喝水提醒                                     │ │
│  │ 今日已提醒 4 次                           [编辑] [×] │ │
│  └──────────────────────────────────────────────────────┘ │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

---

## 形态三：浏览器扩展

### 核心定位
> 嵌入式增强，不离开当前页面

### 关键设计

#### 1. 选中增强

```
用户在任何网页选中文字：

"The ubiquitous nature of smartphones..."
     ▔▔▔▔▔▔▔▔▔▔
          ↓ 自动弹出
┌─────────────────────────────────────┐
│ 🌐 ubiquitous                       │
│ /juːˈbɪkwɪtəs/  🔊                 │
│ adj. 无处不在的                     │
│                                     │
│ [复制] [加入单词本] [整段翻译]      │
└─────────────────────────────────────┘
```

#### 2. 右键菜单

```
选中文字 → 右键：

┌─────────────────────────────────────┐
│ 复制                                │
│ 粘贴                                │
│ ─────────────────────────────────── │
│ 🔍 用 GemiGo 处理...                │
│   ├── 翻译                          │
│   ├── 解释这段话                    │
│   ├── 总结这篇文章                  │
│   ├── 查找相关信息                  │
│   └── 更多...                       │
└─────────────────────────────────────┘
```

#### 3. 页面工具

```
阅读长文章时，点击扩展图标：

┌─────────────────────────────────────┐
│ 📄 当前页面工具                     │
│                                     │
│ [📝 AI 总结] [📖 双语对照]          │
│ [🔗 提取链接] [📸 截图标注]         │
│ [📥 保存到笔记]                     │
└─────────────────────────────────────┘
```

---

## 三端协同

### 数据同步

```
┌──────────────┐
│    账号系统   │
│   (统一登录)  │
└──────┬───────┘
       │
       ├────────────────────────────────────────┐
       │                │                       │
       ▼                ▼                       ▼
┌──────────────┐ ┌──────────────┐ ┌──────────────┐
│   Web 平台   │ │   桌面端     │ │   浏览器扩展  │
│              │ │              │ │              │
│ • 收藏同步   │ │ • 收藏同步   │ │ • 收藏同步   │
│ • 使用记录   │ │ • 使用记录   │ │ • 单词本同步 │
│ • 创作内容   │ │ • 本地数据   │ │ • 高亮标注   │
└──────────────┘ └──────────────┘ └──────────────┘
```

### 场景流转

```
场景：用户想用「AA分账」

路径1：Web 发现
  1. 在 gemigo.app 发现「AA分账」
  2. 直接在网页使用
  3. 生成链接发给朋友

路径2：桌面端 AI
  1. 对 AI 说"帮我算一下分账"
  2. AI 推荐并打开「AA分账」
  3. 在桌面端窗口使用

路径3：链接分享
  1. 收到朋友发来的链接
  2. 点开直接使用
  3. 想要下次再用 → 收藏到自己的 GemiGo
```

---

## MVP 路线图

### Phase 1：Web 平台 (6 周)

**核心功能**：
- 应用发布（GitHub 部署）
- 应用发现（列表 + 分类）
- 应用运行（iframe 沙箱）
- 链接分享

**目标**：
- 100 个 Vibe Coder 发布应用
- 1000 个用户使用

### Phase 2：桌面端 MVP (6 周)

**核心功能**：
- AI 对话助手
- 文件拖拽处理
- 推送提醒系统
- 基础自动化

**目标**：
- 1000 下载
- 日活 200

### Phase 3：生态完善 (4 周)

**核心功能**：
- 浏览器扩展
- 三端同步
- 创作者激励

---

## 成功标准

### 6 个月目标

| 指标 | 目标 |
|------|------|
| 发布的应用 | 500+ |
| 月活用户 | 10,000+ |
| 桌面端日活 | 1,000+ |
| 平均应用使用次数 | 3 次/用户/周 |
| 链接分享率 | 30% 用户分享过 |

### 核心衡量

1. **创作者侧**：发布成功率、应用被使用次数
2. **用户侧**：留存率、跨应用使用
3. **分发侧**：链接打开率、分享后转化率

---

## 与竞品的差异

| 维度 | 传统 App Store | 小程序 | GemiGo |
|------|---------------|--------|--------|
| 发布门槛 | 高（审核） | 中（需资质） | **低（一键）** |
| 安装成本 | 下载安装 | 平台内 | **链接即用** |
| 创作者 | 专业开发者 | 企业/开发者 | **任何人** |
| AI 能力 | 各自集成 | 无统一 | **平台提供** |
| 本地能力 | 有 | 无 | **桌面端有** |
| 生态开放 | 封闭 | 封闭 | **开放** |
